import{a as V,u as v,l as C,e as M,o as b,d as k,m as r}from"./index-B3rSIv8V.js";/* empty css               */import{d as B,az as E,b as F,r as d,f as L,c as U,o as p,U as s,M as l,L as h,P as x}from"./vendor-CXQmMNrl.js";import"./utils-CEjmoxUK.js";import"./elementPlusIcons-DjKoOdf8.js";const A=B({__name:"Personal",setup(y){const i=E(),_=V(),f=v(),w=F(()=>{var a;return!!(_.authMeta.disablePasswordLogin||(a=f.user)!=null&&a.disablePasswordLogin)}),o=d({}),n=d({}),P=()=>{r.success("修改成功！")},u=()=>{r.error("修改失败！")},g=()=>{r.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await i.push({path:"/login"})},3e3)};return L(async()=>{o.value=await C.api.userMe()}),(a,e)=>{const m=b,c=M,S=k;return p(),U("div",null,[s(S,{gutter:20},{default:l(()=>[s(c,{sm:24,md:12,lg:8},{default:l(()=>[s(m,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),method:"POST",url:"/user/me",onSuccess:P,onFail:u},null,8,["modelValue"])]),_:1}),w.value?x("",!0):(p(),h(c,{key:0,sm:24,md:12,lg:8},{default:l(()=>[s(m,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),method:"POST",url:"/user/resetPassword",onSuccess:g,onFail:u},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{A as default};
//# sourceMappingURL=Personal-Bq6OYkTe.js.map
