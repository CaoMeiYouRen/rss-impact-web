import{a as V,u as v,k,f as C,l as r,p as M,e as b}from"./index-DgHwXB1z.js";/* empty css               */import{d as B,b as E,r as d,f as F,o as p,c as L,U as s,M as l,az as U,L as h,Q as x}from"./vendor-CuSlqIw8.js";import"./utils-D0r9SEbO.js";import"./elementPlusIcons-DP5dCSo9.js";const A=B({__name:"Personal",setup(y){const i=U(),_=V(),f=v(),w=E(()=>{var a;return!!(_.authMeta.disablePasswordLogin||(a=f.user)!=null&&a.disablePasswordLogin)}),o=d({}),n=d({}),g=()=>{r.success("修改成功！")},u=()=>{r.error("修改失败！")},P=()=>{r.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await i.push({path:"/login"})},3e3)};return F(async()=>{o.value=await k.api.userMe()}),(a,e)=>{const c=M,m=b,S=C;return p(),L("div",null,[s(S,{gutter:20},{default:l(()=>[s(m,{sm:24,md:12,lg:8},{default:l(()=>[s(c,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),method:"POST",url:"/user/me",onSuccess:g,onFail:u},null,8,["modelValue"])]),_:1}),w.value?x("",!0):(p(),h(m,{key:0,sm:24,md:12,lg:8},{default:l(()=>[s(c,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),method:"POST",url:"/user/resetPassword",onSuccess:P,onFail:u},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{A as default};
//# sourceMappingURL=Personal-jnszAupY.js.map
