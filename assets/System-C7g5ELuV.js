import{d as x,e as C,o as V,z as g,f as v,l as f,m as s,A as B}from"./index-ByT4X2xI.js";/* empty css               */import{d as D,s as T,r as q,b as F,c as M,U as e,M as t,o as r,L as d,P as _,R as y}from"./vendor-CuKlQZPS.js";import"./utils-CEjmoxUK.js";import"./elementPlusIcons-Bwd6kgHN.js";const G=D({__name:"System",setup(U){const n=T(),l=q({}),m=F(()=>l.value.type==="sqlite"),b=async()=>{try{await f.api.systemSqliteVacuum(),s.success("执行成功！"),n.value&&await n.value.initForm()}catch(a){s.error("执行失败！"),console.error(a)}},k=async()=>{try{await B.confirm("确定禁用所有不包含 Hook 和 自定义查询的订阅吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})==="confirm"&&(await f.api.systemDisableEmptyFeeds(),s.success("执行成功！"))}catch(a){s.error("执行失败！"),console.error(a)}};return(a,o)=>{const c=V,i=v,u=g,p=C,E=x;return r(),M("div",null,[e(E,{gutter:20},{default:t(()=>[e(p,{sm:24,md:12,lg:8},{default:t(()=>[e(c,{ref_key:"formDom",ref:n,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=w=>l.value=w),method:"GET",url:"/system/getDatabaseInfo"},null,8,["modelValue"]),e(u,{class:"box-item",effect:"dark",content:"触发 sqlite 的 VACUUM 命令以释放未使用空间",placement:"bottom"},{default:t(()=>[m.value?(r(),d(i,{key:0,type:"primary",onClick:b},{default:t(()=>o[1]||(o[1]=[y(" 压缩数据库 ")])),_:1})):_("",!0)]),_:1}),e(u,{class:"box-item",effect:"dark",content:"禁用所有不包含 Hook 和 自定义查询的订阅",placement:"bottom"},{default:t(()=>[m.value?(r(),d(i,{key:0,type:"primary",onClick:k},{default:t(()=>o[2]||(o[2]=[y(" 禁用空订阅 ")])),_:1})):_("",!0)]),_:1})]),_:1}),e(p,{sm:24,md:12,lg:8},{default:t(()=>[e(c,{method:"GET",url:"/system/getOsInfo"})]),_:1})]),_:1})])}}});export{G as default};
//# sourceMappingURL=System-C7g5ELuV.js.map
