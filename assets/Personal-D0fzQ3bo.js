import{a as S,u as v,l as C,e as M,o as b,d as k,m as r}from"./index-7zpj4LUn.js";/* empty css               */import{d as B,az as E,b as F,r as d,f as h,c as x,o as p,V as s,O as l,M as y,Q as L}from"./vendor-BCb4Pmhl.js";import"./utils-DXiOdxWP.js";import"./elementPlusIcons-b4zqBoSO.js";const A=B({__name:"Personal",setup(O){const i=E(),_=S(),f=v(),w=F(()=>{var a;return!!(_.authMeta.disablePasswordLogin||(a=f.user)!=null&&a.disablePasswordLogin)}),o=d({}),n=d({}),V=()=>{r.success("修改成功！")},u=()=>{r.error("修改失败！")},g=()=>{r.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await i.push({path:"/login"})},3e3)};return h(async()=>{o.value=await C.api.userMe()}),(a,e)=>{const m=b,c=M,P=k;return p(),x("div",null,[s(P,{gutter:20},{default:l(()=>[s(c,{sm:24,md:12,lg:8},{default:l(()=>[s(m,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),method:"POST",url:"/user/me",onSuccess:V,onFail:u},null,8,["modelValue"])]),_:1}),w.value?L("",!0):(p(),y(c,{key:0,sm:24,md:12,lg:8},{default:l(()=>[s(m,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),method:"POST",url:"/user/resetPassword",onSuccess:g,onFail:u},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{A as default};
//# sourceMappingURL=Personal-D0fzQ3bo.js.map
