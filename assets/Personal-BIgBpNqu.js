import{a as P,u as S,l as v,e as C,o as M,d as b,m as t}from"./index-B8BJ57OE.js";/* empty css               */import{d as k,aA as B,b as E,r as c,f as F,c as h,o as d,V as s,O as r,M as x,Q as y}from"./vendor-XkcxUAGn.js";import"./utils-Bti12kXR.js";import"./elementPlusIcons-BpvIJfvB.js";const Q=k({__name:"Personal",setup(L){const p=B(),i=P(),_=S(),f=E(()=>!!(i.authMeta.disablePasswordLogin||_.user?.disablePasswordLogin)),o=c({}),l=c({}),w=()=>{t.success("修改成功！")},n=()=>{t.error("修改失败！")},V=()=>{t.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await p.push({path:"/login"})},3e3)};return F(async()=>{o.value=await v.api.userMe()}),(O,e)=>{const u=M,m=C,g=b;return d(),h("div",null,[s(g,{gutter:20},{default:r(()=>[s(m,{sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),method:"POST",url:"/user/me",onSuccess:w,onFail:n},null,8,["modelValue"])]),_:1}),f.value?y("",!0):(d(),x(m,{key:0,sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),method:"POST",url:"/user/resetPassword",onSuccess:V,onFail:n},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{Q as default};
//# sourceMappingURL=Personal-BIgBpNqu.js.map
