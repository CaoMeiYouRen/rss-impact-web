import{a as S,u as V,l as v,e as C,o as k,d as B,m as t}from"./index-ChByvnr3.js";/* empty css               */import{d as E,az as F,e as L,r as c,c as M,o as d,K as s,L as r,G as b,W as h,j as x}from"./vendor-413709XI.js";import"./utils-D2MEr7kw.js";import"./elementPlusIcons-4OFXnHqk.js";const z=E({__name:"Personal",setup(y){const p=F(),i=S(),_=V(),w=x(()=>!!(i.authMeta.disablePasswordLogin||_.user?.disablePasswordLogin)),o=c({}),l=c({}),f=()=>{t.success("修改成功！")},n=()=>{t.error("修改失败！")},g=()=>{t.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await p.push({path:"/login"})},3e3)};return L(async()=>{o.value=await v.api.userMe()}),(R,e)=>{const u=k,m=C,P=B;return d(),M("div",null,[s(P,{gutter:20},{default:r(()=>[s(m,{sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),method:"POST",url:"/user/me",onSuccess:f,onFail:n},null,8,["modelValue"])]),_:1}),w.value?h("",!0):(d(),b(m,{key:0,sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),method:"POST",url:"/user/resetPassword",onSuccess:g,onFail:n},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{z as default};
//# sourceMappingURL=Personal-DxnvZPCR.js.map
