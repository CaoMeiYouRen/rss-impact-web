import{a as S,u as V,l as v,e as C,o as b,d as k,m as t}from"./index-bll0ryDY.js";/* empty css               */import{d as B,az as E,b as F,r as c,f as M,c as h,o as d,I as s,J as r,G as x,Q as y}from"./vendor-CHsTPuvD.js";import"./utils-ByjJlkyw.js";import"./elementPlusIcons-DC-mQjh1.js";const A=B({__name:"Personal",setup(L){const p=E(),i=S(),_=V(),f=F(()=>!!(i.authMeta.disablePasswordLogin||_.user?.disablePasswordLogin)),o=c({}),l=c({}),w=()=>{t.success("修改成功！")},n=()=>{t.error("修改失败！")},g=()=>{t.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await p.push({path:"/login"})},3e3)};return M(async()=>{o.value=await v.api.userMe()}),(R,e)=>{const u=b,m=C,P=k;return d(),h("div",null,[s(P,{gutter:20},{default:r(()=>[s(m,{sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),method:"POST",url:"/user/me",onSuccess:w,onFail:n},null,8,["modelValue"])]),_:1}),f.value?y("",!0):(d(),x(m,{key:0,sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),method:"POST",url:"/user/resetPassword",onSuccess:g,onFail:n},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{A as default};
//# sourceMappingURL=Personal-DL0UbSHw.js.map
