{"version":3,"file":"use-id-transformer-C5hQerZT.js","sources":["../../src/hooks/use-id-transformer.ts"],"sourcesContent":["/**\n * 转换指定 props 上的 数组为 id 数组；并反过来\n *\n * @author CaoMeiYouRen\n * @date 2024-04-10\n * @export\n * @param props\n */\nexport function useIdTransformer(props: string[]) {\n    const postGet = (data: any) => {\n        props.forEach((prop) => {\n            if (data?.[prop]?.length) {\n                data[prop] = data[prop].map((e) => e.id) as any[]\n            }\n        })\n        return data\n    }\n\n    const pre = (data: any) => {\n        props.forEach((prop) => {\n            if (data?.[prop]?.length) {\n                data[prop] = data[prop].map((id) => ({ id })) as any[]\n            }\n        })\n        return data\n    }\n    const preSave = pre\n    const preUpdate = pre\n\n    return {\n        postGet,\n        preSave,\n        preUpdate,\n    }\n}\n"],"names":["useIdTransformer","props","postGet","data","prop","e","pre","id"],"mappings":"AAQO,SAASA,EAAiBC,EAAiB,CAC9C,MAAMC,EAAWC,IACbF,EAAM,QAASG,GAAS,CAChBD,IAAOC,CAAI,GAAG,SACdD,EAAKC,CAAI,EAAID,EAAKC,CAAI,EAAE,IAAKC,GAAMA,EAAE,EAAE,EAE/C,CAAC,EACMF,GAGLG,EAAOH,IACTF,EAAM,QAASG,GAAS,CAChBD,IAAOC,CAAI,GAAG,SACdD,EAAKC,CAAI,EAAID,EAAKC,CAAI,EAAE,IAAKG,IAAQ,CAAE,GAAAA,CAAA,EAAK,EAEpD,CAAC,EACMJ,GAKX,MAAO,CACH,QAAAD,EACA,QALYI,EAMZ,UALcA,CAKd,CAER"}