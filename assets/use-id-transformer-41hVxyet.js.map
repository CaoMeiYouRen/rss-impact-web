{"version":3,"file":"use-id-transformer-41hVxyet.js","sources":["../../src/hooks/use-id-transformer.ts"],"sourcesContent":["\n/**\n * 转换指定 props 上的 数组为 id 数组；并反过来\n *\n * @author CaoMeiYouRen\n * @date 2024-04-10\n * @export\n * @param props\n */\nexport function useIdTransformer(props: string[]) {\n    const postGet = (data: any) => {\n        props.forEach((prop) => {\n            if (data?.[prop]?.length) {\n                data[prop] = data[prop].map((e) => e.id) as any[]\n            }\n        })\n        return data\n    }\n\n    const pre = (data: any) => {\n        props.forEach((prop) => {\n            if (data?.[prop]?.length) {\n                data[prop] = data[prop].map((id) => ({ id })) as any[]\n            }\n        })\n        return data\n    }\n    const preSave = pre\n    const preUpdate = pre\n\n    return {\n        postGet,\n        preSave,\n        preUpdate,\n    }\n}\n"],"names":["useIdTransformer","props","postGet","data","prop","_a","e","pre","id"],"mappings":"AASO,SAASA,EAAiBC,EAAiB,CACxC,MAAAC,EAAWC,IACPF,EAAA,QAASG,GAAS,CAFzB,IAAAC,GAGSA,EAAAF,GAAA,YAAAA,EAAOC,KAAP,MAAAC,EAAc,SACTF,EAAAC,CAAI,EAAID,EAAKC,CAAI,EAAE,IAAKE,GAAMA,EAAE,EAAE,EAC3C,CACH,EACMH,GAGLI,EAAOJ,IACHF,EAAA,QAASG,GAAS,CAXzB,IAAAC,GAYSA,EAAAF,GAAA,YAAAA,EAAOC,KAAP,MAAAC,EAAc,SACTF,EAAAC,CAAI,EAAID,EAAKC,CAAI,EAAE,IAAKI,IAAQ,CAAE,GAAAA,CAAA,EAAK,EAChD,CACH,EACML,GAKJ,MAAA,CACH,QAAAD,EACA,QALYK,EAMZ,UALcA,CAMlB,CACJ"}