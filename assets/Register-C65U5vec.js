import{a as B,E as P,b as z,d as S,e as k,f as h,i as q,j as L,k as N,l as T,m as U,_ as j}from"./index-CgopyccF.js";/* empty css               */import{l as M}from"./logo-Oj4w6Ig8.js";import{d as $,az as A,b as F,s as O,r as D,ai as l,c as G,o as H,a as r,V as s,O as o,S as J,u as K}from"./vendor-Bx8vIaqU.js";import"./utils-DXiOdxWP.js";import"./elementPlusIcons-DbmGlRXJ.js";const Q={class:"register-container"},W={class:"register-form"},X={class:"logo",tabindex:"-1"},Y={class:"image-slot"},Z=$({__name:"Register",setup(ee){const d=A(),_=B(),f=F(()=>_.authMeta.disablePasswordRegister),g=(a,e,t)=>{if(q(e))return t(new Error("请输入用户名"));t()},b=(a,e,t)=>{const n=L(e);if(n)return t(n);t()},v=(a,e,t)=>{if(!N(e))return t(new Error("邮箱格式有误"));t()},i=O(null),u=D({username:"",password:"",email:""}),w={submitBtn:!1,submitText:"注册",emptyBtn:!1,column:{username:{span:24,label:"用户名",prefixIcon:"el-icon-user",autocomplete:"off",rules:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:g,trigger:"blur"}]},email:{span:24,label:"邮箱",prefixIcon:"el-icon-message",autocomplete:"off",rules:[{required:!0,message:"请输入邮箱",trigger:"blur"},{validator:v,trigger:"blur"}]},password:{type:"password",span:24,label:"密码",prefixIcon:"el-icon-lock",autocomplete:"off",rules:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:b,trigger:"blur"}]}}},y=()=>{var a;(a=i.value)==null||a.submit()},E=async(a,e)=>{try{await T.api.authRegister(a),U.success("注册成功！即将跳转到登录页面"),setTimeout(async()=>{await d.push({path:"/login"})},3e3)}catch(t){console.error(t)}finally{e()}};return(a,e)=>{const t=l("icon-picture"),n=P,R=z,x=l("CaretLeft"),m=h,c=k,V=l("Position"),C=S,I=l("avue-form");return H(),G("div",Q,[r("div",W,[r("div",null,[r("div",X,[s(R,{src:K(M),tabindex:"-1",lazy:""},{placeholder:o(()=>e[2]||(e[2]=[r("div",{class:"image-slot"},[J(" Loading"),r("span",{class:"dot"},"...")],-1)])),error:o(()=>[r("div",Y,[s(n,null,{default:o(()=>[s(t)]),_:1})])]),_:1},8,["src"])]),e[3]||(e[3]=r("h1",{class:"logo-title"}," RSS Impact ",-1))]),s(I,{ref_key:"formRef",ref:i,modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=p=>u.value=p),option:w,onSubmit:E},{"menu-form":o(({size:p})=>[s(C,{class:"button-row",justify:"space-between"},{default:o(()=>[s(c,{span:11},{default:o(()=>[s(m,{type:"primary",class:"login-button",size:"large",onClick:e[0]||(e[0]=se=>a.$router.push("/login"))},{default:o(()=>[s(n,null,{default:o(()=>[s(x)]),_:1}),e[4]||(e[4]=r("span",null,"返回登录",-1))]),_:1,__:[4]})]),_:1}),s(c,{span:11},{default:o(()=>[s(m,{type:"success","native-type":"submit",class:"register-button",size:"large",disabled:f.value,onClick:y},{default:o(()=>[s(n,null,{default:o(()=>[s(V)]),_:1}),e[5]||(e[5]=r("span",null,"注册",-1))]),_:1,__:[5]},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])}}}),ie=j(Z,[["__scopeId","data-v-5c97abb1"]]);export{ie as default};
//# sourceMappingURL=Register-C65U5vec.js.map
