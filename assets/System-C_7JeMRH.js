import{d as x,e as C,o as V,y as g,f as v,l as f,m as s,z as B}from"./index-ChByvnr3.js";/* empty css               */import{d as D,c as T,K as e,L as t,o as r,r as q,s as F,G as d,W as _,j as G,Y as y}from"./vendor-413709XI.js";import"./utils-D2MEr7kw.js";import"./elementPlusIcons-4OFXnHqk.js";const R=D({__name:"System",setup(I){const n=F(),l=q({}),m=G(()=>l.value.type==="sqlite"),k=async()=>{try{await f.api.systemSqliteVacuum(),s.success("执行成功！"),n.value&&await n.value.initForm()}catch(a){s.error("执行失败！"),console.error(a)}},b=async()=>{try{await B.confirm("确定禁用所有不包含 Hook 和 自定义查询的订阅吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})==="confirm"&&(await f.api.systemDisableEmptyFeeds(),s.success("执行成功！"))}catch(a){s.error("执行失败！"),console.error(a)}};return(a,o)=>{const c=V,i=v,u=g,p=C,E=x;return r(),T("div",null,[e(E,{gutter:20},{default:t(()=>[e(p,{sm:24,md:12,lg:8},{default:t(()=>[e(c,{ref_key:"formDom",ref:n,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=w=>l.value=w),method:"GET",url:"/system/getDatabaseInfo"},null,8,["modelValue"]),e(u,{class:"box-item",effect:"dark",content:"触发 sqlite 的 VACUUM 命令以释放未使用空间",placement:"bottom"},{default:t(()=>[m.value?(r(),d(i,{key:0,type:"primary",onClick:k},{default:t(()=>[...o[1]||(o[1]=[y(" 压缩数据库 ",-1)])]),_:1})):_("",!0)]),_:1}),e(u,{class:"box-item",effect:"dark",content:"禁用所有不包含 Hook 和 自定义查询的订阅",placement:"bottom"},{default:t(()=>[m.value?(r(),d(i,{key:0,type:"primary",onClick:b},{default:t(()=>[...o[2]||(o[2]=[y(" 禁用空订阅 ",-1)])]),_:1})):_("",!0)]),_:1})]),_:1}),e(p,{sm:24,md:12,lg:8},{default:t(()=>[e(c,{method:"GET",url:"/system/getOsInfo"})]),_:1})]),_:1})])}}});export{R as default};
//# sourceMappingURL=System-C_7JeMRH.js.map
