import{a as S,u as V,l as v,e as C,o as b,d as k,m as t}from"./index-CzU_wqBE.js";/* empty css               */import{d as B,aA as E,b as F,r as c,f as M,c as R,o as d,W as s,P as r,O as h,R as x}from"./vendor-DFmjBuqw.js";import"./utils-tRwHUfZU.js";import"./elementPlusIcons-CDE6NdGC.js";const W=B({__name:"Personal",setup(y){const p=E(),i=S(),_=V(),f=F(()=>!!(i.authMeta.disablePasswordLogin||_.user?.disablePasswordLogin)),o=c({}),l=c({}),w=()=>{t.success("修改成功！")},n=()=>{t.error("修改失败！")},P=()=>{t.success("修改成功！即将跳转到登录页面重新登录"),setTimeout(async()=>{await p.push({path:"/login"})},3e3)};return M(async()=>{o.value=await v.api.userMe()}),(L,e)=>{const u=b,m=C,g=k;return d(),R("div",null,[s(g,{gutter:20},{default:r(()=>[s(m,{sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),method:"POST",url:"/user/me",onSuccess:w,onFail:n},null,8,["modelValue"])]),_:1}),f.value?x("",!0):(d(),h(m,{key:0,sm:24,md:12,lg:8},{default:r(()=>[s(u,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value=a),method:"POST",url:"/user/resetPassword",onSuccess:P,onFail:n},null,8,["modelValue"])]),_:1}))]),_:1})])}}});export{W as default};
//# sourceMappingURL=Personal-z1_LODpi.js.map
